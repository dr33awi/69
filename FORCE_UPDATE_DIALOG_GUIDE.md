# Force Update Dialog - ุฏููู ุงูุงุณุชุฎุฏุงู

## ูุธุฑุฉ ุนุงูุฉ
ูุธุงู Force Update Dialog ูุณูุญ ูู ุจุฅุฌุจุงุฑ ุงููุณุชุฎุฏููู ุนูู ุชุญุฏูุซ ุงูุชุทุจูู ูุจู ุงูุงุณุชูุฑุงุฑ ูู ุงูุงุณุชุฎุฏุงูุ ูุน ุงูุชุญูู ุงููุงูู ูู Firebase Remote Config.

## ุงููููุงุช ุงูููุดุฃุฉ
1. `force_update_dialog.dart` - ุงูู Dialog ููุณู
2. `force_update_checker.dart` - ูุธุงู ุงููุญุต ุงูุชููุงุฆู

## ุฅุนุฏุงุฏุงุช Firebase Remote Config

ุฃุถู ูุฐู ุงูููุงุชูุญ ูู Firebase Console:

### 1. force_update (Boolean)
- `true` - ูุชูุนูู Force Update
- `false` - ูุชุนุทูู Force Update

### 2. app_version (String)
- ูุซุงู: `"1.2.0"`
- ุงูุฅุตุฏุงุฑ ุงููุทููุจ ููุชุทุจูู

### 3. update_url_android (String)
- ูุซุงู: `"https://play.google.com/store/apps/details?id=com.dhakarani1.app"`
- ุฑุงุจุท ุชุญุฏูุซ ุงูุชุทุจูู ุนูู Google Play Store

### 4. update_features_list (JSON)
ูุงุฆูุฉ ุจูููุฒุงุช ุงูุชุญุฏูุซ ุงูุฌุฏูุฏ (ุงุฎุชูุงุฑู):
```json
[
  "ุฅุตูุงุญ ูุดููุฉ ุงูุฅุดุนุงุฑุงุช",
  "ุชุญุณูู ุฃุฏุงุก ุงูุชุทุจูู",
  "ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ",
  "ุชุญุฏูุซ ุงูุชุตููู"
]
```

## ุทุฑู ุงูุงุณุชุฎุฏุงู

### ุงูุทุฑููุฉ 1: ุงูุชุญูู ุงูุชููุงุฆู (ููุตู ุจูุง)

ูู `main.dart`ุ ุฃุถู ุงูู widget ุญูู ุงูุชุทุจูู:

```dart
import 'core/firebase/widgets/force_update_checker.dart';

class AthkarApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: ForceUpdateChecker.widget(
        child: HomeScreen(),
      ),
    );
  }
}
```

### ุงูุทุฑููุฉ 2: ุงูุชุญูู ุงููุฏูู

ูู ุฃู ุดุงุดุฉ ุฃู ุนูุฏ ุฃู ุญุฏุซ:

```dart
import 'core/firebase/widgets/force_update_checker.dart';

// ูู initState ุฃู ุนูุฏ ุงูุญุงุฌุฉ
await ForceUpdateChecker.check(context);
```

### ุงูุทุฑููุฉ 3: ุนุฑุถ ุงูู Dialog ูุจุงุดุฑุฉ

```dart
import 'core/firebase/widgets/force_update_dialog.dart';

await ForceUpdateDialog.show(
  context,
  currentVersion: '1.0.0',
  requiredVersion: '1.2.0',
);
```

## ูุซุงู ูุงูู ููุงุณุชุฎุฏุงู ูู main.dart

```dart
import 'package:flutter/material.dart';
import 'core/firebase/widgets/force_update_checker.dart';

class _AthkarAppState extends State<AthkarApp> {
  @override
  void initState() {
    super.initState();
    
    // ุงูุชุญูู ูู Force Update ุจุนุฏ ุจุฏุก ุงูุชุทุจูู
    WidgetsBinding.instance.addPostFrameCallback((_) {
      ForceUpdateChecker.check(context);
    });
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: HomeScreen(),
    );
  }
}
```

## ููููุฉ ุนูู ุงููุธุงู

1. **ุงูุชุญูู ูู Remote Config**: ููุญุต ุฅุฐุง ูุงู `force_update = true`
2. **ุงูุญุตูู ุนูู ุงูุฅุตุฏุงุฑ**: ููุงุฑู ุงูุฅุตุฏุงุฑ ุงูุญุงูู ูุน `app_version`
3. **ุนุฑุถ Dialog**: ุฅุฐุง ูุงู ุงูุชุญุฏูุซ ูุทููุจูุง
4. **ูุชุญ ุงูุฑุงุจุท**: ุนูุฏ ุงูุถุบุท ุนูู "ุชุญุฏูุซ ุงูุขู"ุ ููุชุญ `update_url_android`

## ููุงุฑูุฉ ุงูุฅุตุฏุงุฑุงุช

ุงููุธุงู ููุงุฑู ุงูุฅุตุฏุงุฑุงุช ุจุฐูุงุก:

- `1.0.0` < `1.0.1` โ ุชุญุฏูุซ ูุทููุจ
- `1.0.0` < `1.1.0` โ ุชุญุฏูุซ ูุทููุจ
- `1.0.0` < `2.0.0` โ ุชุญุฏูุซ ูุทููุจ
- `1.2.0` = `1.2.0` โ ูุง ุชุญุฏูุซ
- `1.3.0` > `1.2.0` โ ูุง ุชุญุฏูุซ

## ูููุฒุงุช ุงูู Dialog

โจ **ุชุตููู ุฌุฐุงุจ**
- ุฃููุงู ูุชูุงุณูุฉ ูุน Dark/Light Mode
- ุฃููููุงุช ูุงุถุญุฉ
- ุชุฃุซูุฑุงุช ุจุตุฑูุฉ ุฌูููุฉ

๐ฑ **ูุนูููุงุช ูุงุถุญุฉ**
- ุนุฑุถ ุงูุฅุตุฏุงุฑ ุงูุญุงูู
- ุนุฑุถ ุงูุฅุตุฏุงุฑ ุงููุทููุจ
- ูุงุฆูุฉ ุจูููุฒุงุช ุงูุชุญุฏูุซ

๐ **ูุง ูููู ุฅุบูุงูู**
- ุงููุณุชุฎุฏู ูุฌุจ ุฃู ูุญุฏูุซ ุงูุชุทุจูู
- ูุง ูููู ุงูุถุบุท ุฎุงุฑุฌ ุงูู Dialog
- ุฒุฑ ุงูุฑุฌูุน ูุนุทูู

๐ **ุฑุงุจุท ุฏููุงูููู**
- ูุชู ุงูุชุญูู ุจู ูู Remote Config
- ูููู ุชุบููุฑู ูู ุฃู ููุช
- ููุชุญ ูู ุงููุชุตูุญ ุงูุฎุงุฑุฌู

## ุงุฎุชุจุงุฑ ุงููุธุงู

### 1. ุชูุนูู Force Update ูู Firebase
```
force_update: true
app_version: "2.0.0"  (ุฃูุจุฑ ูู ุฅุตุฏุงุฑู ุงูุญุงูู)
update_url_android: "ุฑุงุจุท ุงููุชุฌุฑ"
```

### 2. ุชุดุบูู ุงูุชุทุจูู
ุณูุธูุฑ ุงูู Dialog ุชููุงุฆูุงู

### 3. ุงุฎุชุจุงุฑ ุงูุฑุงุจุท
ุงุถุบุท "ุชุญุฏูุซ ุงูุขู" ููุชุฃูุฏ ูู ูุชุญ ุงูุฑุงุจุท ุงูุตุญูุญ

## ูุตุงุฆุญ ูููุฉ

โ๏ธ **ุงุณุชุฎุฏู ุจุญุฐุฑ**
- Force Update ูููุน ุงููุณุชุฎุฏููู ูู ุงุณุชุฎุฏุงู ุงูุชุทุจูู
- ุงุณุชุฎุฏูู ููุท ููุชุญุฏูุซุงุช ุงูุญุฑุฌุฉ

โ **ุงุณุชุฎุฏู ูู ูุฐู ุงูุญุงูุงุช:**
- ุฅุตูุงุญ ุซุบุฑุงุช ุฃูููุฉ ูููุฉ
- ุชุบููุฑุงุช ูู API ุชูุณุฑ ุงูุชูุงูู
- ุชุญุฏูุซุงุช ุญุฑุฌุฉ ููุฃุฏุงุก

โ **ูุง ุชุณุชุฎุฏูู ูู:**
- ุชุญุฏูุซุงุช ุตุบูุฑุฉ
- ููุฒุงุช ุฌุฏูุฏุฉ ุงุฎุชูุงุฑูุฉ
- ุชุญุณููุงุช ุนุงุฏูุฉ

## ุชุนุทูู Force Update

ูู ุฃู ููุชุ ุบููุฑ ูู Firebase:
```
force_update: false
```

ุณูุนูู ุงูุชุทุจูู ุจุดูู ุทุจูุนู ููุฌููุน.

## ุงูุฏุนู

- ูุนูู ุนูู Android ู iOS
- ูุฏุนู Dark Mode
- ูุฏุนู RTL (ุงูุนุฑุจูุฉ)
- ูุชุฌุงูุจ ูุน ุฌููุน ุฃุญุฌุงู ุงูุดุงุดุงุช

## ุงูุชุฎุตูุต

ููููู ุชุฎุตูุต:
- ุฃููุงู ุงูู Dialog
- ูุต ุงูุนููุงู ูุงููุตู
- ุชุตููู ูุงุฆูุฉ ุงููููุฒุงุช
- ุฃููููุฉ ุงูุชุญุฏูุซ
- ุดูู ุงูุฃุฒุฑุงุฑ

ุฌููุน ูุฐู ุงูุชุฎุตูุตุงุช ูุชููุฑุฉ ูู ููู `force_update_dialog.dart`.
